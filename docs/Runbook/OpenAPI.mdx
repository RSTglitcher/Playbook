---
title: API Specifications
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::tip OpenAPI
**OpenAPI** is a standard API contract specification used to formally define HTTP APIs so they can be validated, documented, published, and consumed consistently across teams and tooling.
:::

```mermaid
OpenAPI
├── API Contract Specification
│   ├── Paths & Operations
│   ├── Schemas
│   ├── Security Definitions
│   ├── Components & Reuse
│   └── Versioning & Lifecycle
├── Workflow
│   ├── Author Spec (Design-First / Code-First)
│   ├── Validate Spec (CLI / CI)
│   ├── Publish to Repo (Versioned)
│   └── Render in Backstage Portal
├── TA Skills
│   ├── Review & Validate Paths & Schemas
│   ├── Check Security & Auth Definitions
│   ├── Ensure Governance & Versioning
│   └── Confirm Docs Published in Backstage
└── SWE Skills
    ├── Author / Update Specs
    ├── Validate & Lint Specs in CI
    ├── Generate Clients / Mocks
    └── Publish & Verify in Backstage
````

---

## Technical Skills

<Tabs>
<TabItem value="skill" label="TA Skills">

```shell
--------------
Tangible guidance for TAs using OpenAPI
--------------

# Review Paths & Operations
- Open the OpenAPI YAML/JSON in the repo.
- Verify HTTP methods, parameters, and path correctness.
- Confirm operation names align with business actions.

# Validate Schemas
- Run validator: `swagger-cli validate spec.yaml`
- Check required fields, data types, and enums.

# Consumer Support
- Confirm authentication, error codes, pagination, filtering.
- Note gaps and raise with API owner.

# Governance & Versioning
- Ensure `info.version` follows semantic versioning.
- Check `contact` info and deprecation notices.
- Verify spec is canonical and referenced in Backstage.

# Documentation Publishing
- Confirm rendered docs in Backstage.
- Run automated doc generation dry run if available.
```

</TabItem>
<TabItem value="requirements" label="Requirements">

**How to gather requirements for OpenAPI**

* Identify APIs to document and their current state.
* Determine ownership and consumer expectations.
* Verify endpoints, authentication, request/response data.
* Capture integration needs with Backstage or internal portals.
* Document versioning and change control expectations.

</TabItem>
</Tabs>

---

## Pre-Requisites

| Action / Service            | What TA Needs to Gather / Confirm                      |
| --------------------------- | ------------------------------------------------------ |
| Set-up                      | Location of OpenAPI spec (repo, service, artifact)     |
| Access & Login              | Read access to repo and Backstage                      |
| API                         | Target API base URL and environments                   |
| Other tool specific actions | Validation tools, linting rules, CI/CD pipeline access |

---

## Engineering

<Tabs>
<TabItem value="skill" label="SWE Skills">

```shell
--------------
Tangible guidance for engineers using OpenAPI
--------------

# Authoring Specs
- Design-first: create YAML manually, validate coverage.
- Code-first: generate spec from code annotations, confirm correctness.

# Validation & CI
- Add schema validation to CI: `npx swagger-cli validate spec.yaml`
- Enforce lint rules: `npx spectral lint spec.yaml`

# Publishing
- Commit spec to versioned branch in repo.
- Run automation to publish spec to Backstage.
- Verify rendered docs match spec.

# Client & Mock Generation
- Generate SDKs or mock servers using `openapi-generator`.
- Test clients and mocks against spec.
- Update test cases if API changes.
```

</TabItem>
<TabItem value="example" label="Examples">

**Practical commands and workflow**

* Lint spec:

```shell
npx spectral lint orders.yaml
```

* Validate spec:

```shell
npx swagger-cli validate orders.yaml
```

* Backstage verification: open portal → find API → confirm paths and schema render correctly.

* Generate SDK client:

```shell
openapi-generator generate -i orders.yaml -g python -o ./client
```

</TabItem>
</Tabs>

---

## Triage

| Symptom                              | TLDR of Root Cause                | What to Check                                   | Action to Propose                             |
| ------------------------------------ | --------------------------------- | ----------------------------------------------- | --------------------------------------------- |
| Consumers report incorrect behaviour | Spec drift from implementation    | Compare spec to live API responses              | Update spec or raise defect with API team     |
| Backstage docs missing or broken     | Invalid or unreachable spec       | Check spec URL, format, and publishing pipeline | Fix spec location or validation errors        |
| CI pipeline failing                  | Schema or lint validation errors  | Review validation output                        | Correct schema or relax non-critical rules    |
| Breaking changes reported            | Poor versioning or change control | Check version fields and change history         | Introduce versioning and deprecation guidance |
| Security confusion                   | Incomplete security definitions   | Review auth schemes in spec                     | Clarify and standardise security sections     |
