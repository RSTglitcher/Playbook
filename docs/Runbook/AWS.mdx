---
title: "AWS Cloud Platform"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::tip AWS Cloud Platform
AWS provides a broad suite of **cloud services** including compute, storage, database, messaging, and analytics.
This runbook focuses on key data and messaging services commonly used by engineers and monitored by TAs: ElastiCache, DynamoDB, Keyspaces, SQS, and SNS.
:::

```mermaid
AWS
├── Data Services
│   ├── DynamoDB
│   ├── Keyspaces
│   └── ElastiCache
├── Messaging Services
│   ├── SQS
│   └── SNS
├── TA Skills
│   ├── Inspect clusters, tables, queues, topics
│   ├── Validate IAM roles and access
│   ├── Check scaling and metrics
│   └── Verify network/security config
└── SWE Skills
    ├── Insert/query/update data
    ├── Connect to Redis or CQLSH
    ├── Send/receive messages
    └── Provision or modify resources
````

---

## Pre-Requisites

| Action / Service     | What TA Needs to Gather / Confirm                                    |
| -------------------- | -------------------------------------------------------------------- |
| AWS Account          | Project/account access with billing enabled                          |
| CLI Tools            | `awscli` installed and configured (`aws configure`)                  |
| IAM Roles & Policies | Permissions for DynamoDB, Keyspaces, ElastiCache, SQS, SNS           |
| Networking           | VPC, subnets, security groups, route tables                          |
| Service Setup        | Ensure tables, clusters, caches, queues, topics exist for inspection |

---

## Engineering

<Tabs>
<TabItem value="elasticache" label="ElastiCache">

<Tabs>
<TabItem value="elasticacheTA" label="TA Skills">

```shell
# List clusters and nodes
aws elasticache describe-cache-clusters --show-cache-node-info

# Check cluster status
aws elasticache describe-cache-clusters --query 'CacheClusters[*].[CacheClusterId,CacheClusterStatus]'

# Inspect replication group
aws elasticache describe-replication-groups

# Validate security groups and IAM roles
aws ec2 describe-security-groups --group-ids <sg-id>
```

</TabItem>
<TabItem value="swe-ec" label="SWE Skills">

```shell
# Connect to Redis cluster
redis-cli -h <primary-endpoint> -p <port>

# Inspect cache usage
INFO all

# Flush cache (use with caution)
FLUSHALL
```

</TabItem>
</Tabs>

</TabItem>
<TabItem value="dynamodb" label="DynamoDB">

<Tabs>
<TabItem value="dynamodbTA" label="TA Skills">

```shell
# List tables
aws dynamodb list-tables

# Describe table
aws dynamodb describe-table --table-name <table-name>

# Check table capacity and indexes
aws dynamodb describe-table --table-name <table-name> --query 'Table.{Name:TableName,RCU:ProvisionedThroughput.ReadCapacityUnits,Indexes:GlobalSecondaryIndexes}'
```

</TabItem>
<TabItem value="swe-dynamodb" label="SWE Skills">

```shell
# Put an item
aws dynamodb put-item --table-name <table-name> --item '{"PK": {"S": "123"}, "Value": {"S": "abc"}}'

# Query items
aws dynamodb query --table-name <table-name> --key-condition-expression "PK = :v1" --expression-attribute-values '{":v1":{"S":"123"}}'

# Scan table (use sparingly)
aws dynamodb scan --table-name <table-name>
```

</TabItem>
</Tabs>

</TabItem>
<TabItem value="keyspaces" label="Keyspaces">

<Tabs>
<TabItem value="keyspacesTA" label="TA Skills">

```shell
# List keyspaces
aws keyspaces list-keyspaces

# Describe keyspace
aws keyspaces describe-keyspace --keyspace-name <name>

# Check table status
aws keyspaces list-tables --keyspace-name <name>
```

</TabItem>
<TabItem value="swe-keyspaces" label="SWE Skills">

```shell
# CQLSH access to table
cqlsh <host> 9142 -u <user> -p <password> --ssl

# Query data
SELECT * FROM keyspace.table LIMIT 10;

# Create/alter table
CREATE TABLE keyspace.table (id uuid PRIMARY KEY, value text);
```

</TabItem>
</Tabs>

</TabItem>
<TabItem value="messaging" label="SQS/SNS">

<Tabs>
<TabItem value="sqsTA" label="TA Skills">

```shell
# List queues
aws sqs list-queues

# Describe queue
aws sqs get-queue-attributes --queue-url <url> --attribute-names All

# List topics
aws sns list-topics

# Inspect topic subscriptions
aws sns list-subscriptions-by-topic --topic-arn <arn>
```

</TabItem>
<TabItem value="sqsSWE" label="SWE Skills">

```shell
# Send message to SQS
aws sqs send-message --queue-url <url> --message-body "Hello World"

# Receive messages
aws sqs receive-message --queue-url <url> --max-number-of-messages 10

# Publish to SNS
aws sns publish --topic-arn <arn> --message "Alert message"
```

</TabItem>
</Tabs>

</TabItem>
</Tabs>

---

## Triage

| Symptom                    | TLDR of Root Cause                               | What to Check                                 | Action to Propose                       |
| -------------------------- | ------------------------------------------------ | --------------------------------------------- | --------------------------------------- |
| ElastiCache cluster down   | Node crash, network issue, or scaling limit      | Cluster status, node events, VPC connectivity | Restart node/cluster, check limits      |
| DynamoDB table unavailable | Provisioned throughput exceeded or table deleted | Table status, CloudWatch metrics              | Scale table, recreate if missing        |
| Keyspaces not reachable    | VPC/Security issue or endpoint misconfigured     | Describe keyspace, network configuration      | Fix network/security, restart endpoints |
| SQS messages delayed/lost  | Consumer down or misconfigured queue             | Queue attributes, CloudWatch metrics          | Restart consumer, check permissions     |
| SNS notifications not sent | Topic misconfigured, IAM or throttling           | Topic subscriptions, CloudWatch metrics       | Correct config, adjust IAM, retry       |
| IAM access denied          | Missing permissions                              | IAM roles and policies                        | Grant required roles                    |
| API quota exceeded         | Too many requests                                | Service quotas, CloudWatch logs               | Request increase or throttle usage      |

