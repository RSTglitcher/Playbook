---
title: "Kubernetes"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::tip Kubernetes
Kubernetes (K8s) is a **container orchestration platform** that automates deployment, scaling, and management of containerized applications. It is widely used to run microservices architectures, manage distributed workloads, and enable declarative infrastructure management.
:::

---

## When to use

* Deploy, scale, and manage containerized applications across clusters
* Require high availability, service discovery, or automated rolling updates
* Need declarative configuration for infrastructure

**Do NOT use this tool when:**

* Only running a few containers on a single host
* Simple orchestration via Docker Compose suffices
* Complex cluster management is unnecessary

---

## TA Skills Checklist

- Understand cluster architecture and ownership of resources
- Verify PersistentVolume and ConfigMap usage
- Observe workload health, scaling, and alerts
- Identify security or network boundaries

---

## Pre-Requisites

| Action / Service       | What TA Needs to Gather / Confirm |
|------------------------|----------------------------------|
| Cluster Access         | kubeconfig, RBAC permissions, context name |
| CLI Tools              | `kubectl` installed and configured |
| Persistent Storage     | PV/PVCs provisioned and available |
| ConfigMaps / Secrets   | Defined and accessible for workloads |
| Node/Cluster Info      | Cluster size, node count, roles, and autoscaling config |
| Networking             | CNI plugin used, service IP ranges, ingress rules |
| Observability          | Prometheus/Grafana integration, logging enabled |

---

## Business as Usual

```shell
# ----------------------------
# K9s Commands
# ----------------------------
k9s
k9s -cpod
k9s -n NAMESPACE

?      # List shortcuts
A      # Select all
E      # Activate command line
F      # Filter mode
R      # Refresh resource
S      # Save resource
W      # Open new tab
0      # View all pods
/      # Start search
:      # Change viewing panel
:ctx   # Switch context
l      # logs
s      # shell access
e      # edit
d      # delete
/      # search

# Sorting
Shift + M  # sort by memory
```

<Tabs>

<TabItem value="ta" label="TA Skills">

```shell
# ----------------------------
# How a TA uses Kubernetes
# ----------------------------

kubectl get ns
kubectl get pods -A
kubectl get deployments -A
kubectl get statefulsets -A

# Understand ownership and scope
kubectl describe namespace <ns>

# Validate scaling assumptions
kubectl get hpa -A

# Check persistent storage usage
kubectl get pvc -A
kubectl get pv

# Review configuration sources
kubectl get configmap -A
kubectl get secret -A

# Identify ingress / exposure
kubectl get svc -A
kubectl get ingress -A

# Context & Cluster Access
kubectl config get-contexts
kubectl config use-context CONTEXT_NAME
kubectl cluster-info

# Nampespace & System Components
kubectl get namespaces
kubectl get pods -n kube-system
kubectl get componentstatus

# Node Health & Capacity
kubectl get nodes
kubectl describe node NODE_NAME
kubectl get nodes --field-selector=status.conditions[type=Ready]
kubectl get nodes -o custom-columns=NAME:.metadata.name,CPU:.status.capacity.cpu,MEM:.status.capacity.memory
kubectl top nodes

# Autoscaling
kubectl get hpa --all-namespaces
kubectl describe hpa HPA_NAME -n NAMESPACE
kubectl logs -n kube-system cluster-autoscaler-POD_NAME

# Storage
kubectl get pv
kubectl describe pv PV_NAME
kubectl get pvc -n NAMESPACE
kubectl describe pvc PVC_NAME -n NAMESPACE
kubectl get storageclasses
kubectl describe storageclass STORAGE_CLASS_NAME

# Events (Cluster-Wide)
kubectl get events --all-namespaces
kubectl get events --sort-by='.metadata.creationTimestamp'

# API Server Health
kubectl logs -n kube-system kube-apiserver-POD_NAME
kubectl exec -it -n kube-system kube-apiserver-POD_NAME -- /bin/sh
curl -k https://localhost:6443/healthz
curl -k https://localhost:6443/metrics

```
</TabItem> <TabItem value="swe" label="SWE Skills">

```shell

# ----------------------------
# How engineers use Kubernetes
# ----------------------------

# Deploy workloads
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
kubectl apply -f filename.yaml
kubectl get deployments -n NAMESPACE
kubectl describe deployment DEPLOYMENT_NAME -n NAMESPACE
kubectl get replicasets -n NAMESPACE

# Pods & Containers
kubectl get pods -n NAMESPACE
kubectl describe pod POD_NAME -n NAMESPACE
kubectl delete pod POD_NAME -n NAMESPACE

# Debug workloads
kubectl logs pod/<pod>
kubectl exec -it pod/<pod> -- sh
kubectl logs POD_NAME -n NAMESPACE
kubectl logs -f POD_NAME -n NAMESPACE
kubectl logs POD_NAME -c CONTAINER_NAME -n NAMESPACE
kubectl logs --previous POD_NAME -c CONTAINER_NAME -n NAMESPACE
kubectl exec -it POD_NAME -c CONTAINER_NAME -n NAMESPACE -- /bin/sh

# Scale workloads
kubectl scale deployment/<name> --replicas=3

# Manage rollouts
kubectl rollout status deployment/<name>
kubectl rollout undo deployment/<name>

# Resource tuning
kubectl describe pod/<pod>
kubectl top pods
kubectl top nodes
kubectl top pods -n NAMESPACE
kubectl top pod POD_NAME --containers -n NAMESPACE

# Restart Counts & Health Probes
kubectl get pods --sort-by='.status.containerStatuses[0].restartCount' -n NAMESPACE
kubectl get pods -o custom-columns="POD:metadata.name,RESTARTS:.status.containerStatuses[0].restartCount"
kubectl describe pod POD_NAME -n NAMESPACE | grep -A 2 "Readiness"
kubectl describe pod POD_NAME -n NAMESPACE | grep -A 2 "Liveness"

# Services & Networking
kubectl get services -n NAMESPACE
kubectl describe service SERVICE_NAME -n NAMESPACE
kubectl get endpoints SERVICE_NAME -n NAMESPACE
kubectl get ingress -n NAMESPACE
kubectl describe ingress INGRESS_NAME -n NAMESPACE
kubectl get networkpolicies --all-namespaces

# Connectivity
kubectl port-forward POD_NAME LOCAL_PORT:REMOTE_PORT -n NAMESPACE
kubectl exec -it POD_NAME -n NAMESPACE -- traceroute DESTINATION_IP
kubectl exec -it POD_NAME -n NAMESPACE -- tcpdump -i eth0

# Workload Events
kubectl get events --field-selector=involvedObject.kind=Pod -n NAMESPACE
kubectl get events --field-selector=involvedObject.kind=Deployment -n NAMESPACE

```
</TabItem> </Tabs>

---

## Triage

:::danger
Symptoms of issues with Kubernetes clusters and how to triage:
:::

| Symptom                   | TLDR of Root Cause                        | What to Check                                   | Action to Propose |
|----------------------------|------------------------------------------|-------------------------------------------------|-----------------|
| Pod CrashLoopBackOff       | Container misconfiguration or crash      | `kubectl describe pod <name>`, logs            | Fix container image or config, restart pod |
| Node Not Ready             | Node down or network issue               | `kubectl get nodes`, node events               | Investigate node health, restart node or kubelet |
| Deployment Not Scaling     | HPA misconfigured or resource limits     | `kubectl describe hpa`, metrics                | Adjust HPA or resource requests/limits |
| PersistentVolume Pending   | PV not bound or storage issue            | `kubectl get pv,pvc`, events                   | Provision storage, bind PVC to PV |
| Service Unreachable        | Networking or service misconfigured      | `kubectl get svc`, endpoints, network policies | Fix service or ingress config |
| API Server Unresponsive    | Overloaded control plane or auth issue   | `kubectl cluster-info`, API server logs       | Scale control plane, validate RBAC |
| ConfigMap/Secret Missing   | Resource deleted or misconfigured        | `kubectl get configmap/secret`                | Restore or recreate resource |
