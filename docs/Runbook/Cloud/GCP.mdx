---
title: "Google Cloud Platform"
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

:::tip Google Cloud Platform (GCP)
GCP is a **cloud platform** providing a wide range of services for computing, storage, analytics, and messaging. Key services include **BigQuery**, **Pub/Sub**, **BigTable**, **Cloud Storage**, **Compute Engine**, and more.
:::

---

## When to use

* Use GCP when building scalable, managed cloud applications.
* Use specific services (BigQuery, Pub/Sub, BigTable) for analytics, messaging, or NoSQL storage needs.
* Avoid if on-premises solutions suffice or vendor lock-in is a concern.

---

## TA Skills Checklist

- Identify which services are in use and why.
- Validate access permissions and policies.
- Review cost and scaling implications for estimates.
- Understand dependencies between services.

---

## Pre-Requisites

| Action / Service       | What TA Needs to Gather / Confirm |
|------------------------|----------------------------------|
| GCP Account & Project  | Project name/ID, billing status, organization/folder context, project owner |
| Service Accounts       | Names of service accounts in use, roles/permissions granted, key management practices, expiration/rotation policies |
| IAM Roles & Permissions| What roles are assigned to users and service accounts, are roles scoped appropriately, any custom roles to be aware of |
| APIs & Enabled Services| Which APIs are enabled per project (BigQuery, Pub/Sub, BigTable, Cloud Storage, Secret Manager, etc.), any beta/alpha services in use |
| BigQuery               | Dataset names, table schemas, partitioning/clustering setup, who owns datasets/tables, access patterns |
| Pub/Sub                | Topics and subscriptions, consumer details, retention policies, dead-letter queues, alerting configuration |
| BigTable               | Table names, column families, cluster configuration, node count/scaling rules, ownership of tables |
| Networking / Connectivity | Any VPC, private endpoints, VPNs, firewall rules that affect access, network owners |
| Logging & Observability | Are Cloud Logging / Monitoring enabled for services, alerting thresholds, dashboards available, who monitors |
| Secrets & Credentials  | Location of secrets (e.g., Secret Manager), access policies, rotation schedules, who manages credentials |
| Environment Variables  | Any required env vars for scripts or SDKs (e.g., GOOGLE_PROJECT, GOOGLE_APPLICATION_CREDENTIALS) |


---

## Business As Usual

<Tabs>
<TabItem value="capabilities" label="TA Skills">

### BigQuery

<Tabs>
<TabItem value="ta-bq" label="TA Skills">

```shell
# Review datasets in project
bq ls

# Inspect table metadata
bq show PROJECT_ID:DATASET.TABLE

# Check query costs and job history
bq ls -j --max_results=10

# Validate dataset ownership and labels
bq show --format=prettyjson PROJECT_ID:DATASET
```
</TabItem> <TabItem value="swe-bq" label="SWE Skills">

```shell
# Run a query
bq query --use_legacy_sql=false 'SELECT COUNT(*) FROM dataset.table'

# Export data to Cloud Storage
bq extract --destination_format CSV dataset.table gs://bucket/file.csv

# Load data from Cloud Storage
bq load --source_format CSV dataset.table gs://bucket/file.csv schema.json
```
</TabItem> </Tabs>

---

### Pub/Sub
<Tabs> <TabItem value="ta-ps" label="TA Skills">

```shell
# List topics
gcloud pubsub topics list

# List subscriptions
gcloud pubsub subscriptions list

# Inspect topic and subscription configuration
gcloud pubsub topics describe TOPIC_NAME
gcloud pubsub subscriptions describe SUBSCRIPTION_NAME

# Check backlog and retry policies
gcloud pubsub subscriptions get-iam-policy SUBSCRIPTION_NAME
```
</TabItem> <TabItem value="swe-ps" label="SWE Skills">

```shell
# Publish message
gcloud pubsub topics publish TOPIC_NAME --message "Hello World"

# Pull messages from subscription
gcloud pubsub subscriptions pull SUBSCRIPTION_NAME --limit=10 --auto-ack

# Create topic/subscription
gcloud pubsub topics create TOPIC_NAME
gcloud pubsub subscriptions create SUBSCRIPTION_NAME --topic TOPIC_NAME

# Delete topic/subscription
gcloud pubsub topics delete TOPIC_NAME
gcloud pubsub subscriptions delete SUBSCRIPTION_NAME
```
</TabItem> </Tabs>

---

### BigTable

<Tabs> <TabItem value="ta-bt" label="TA Skills">

```shell
# List BigTable instances
gcloud bigtable instances list

# Inspect tables and clusters
gcloud bigtable tables list --instance INSTANCE_NAME

# Review IAM permissions
gcloud bigtable instances get-iam-policy INSTANCE_NAME

# Check replication and performance metrics
```
</TabItem> <TabItem value="swe-bt" label="SWE Skills">

```shell
# Create a BigTable instance
gcloud bigtable instances create INSTANCE_NAME --cluster=CLUSTER_NAME --cluster-zone=ZONE --display-name="Display Name" --instance-type=PRODUCTION

# Create table
gcloud bigtable tables create TABLE_NAME --instance INSTANCE_NAME

# Insert data using `cbt`
cbt set TABLE_NAME ROW_KEY COLUMN_FAMILY:QUALIFIER VALUE

# Read data
cbt lookup TABLE_NAME ROW_KEY
```

</TabItem> </Tabs> </TabItem> </Tabs>

---

## Triage

:::danger
Common issues when working with GCP and how to triage:
:::

| Symptom                | TLDR of Root Cause                          | What to Check                        | Action to Propose                              |
|------------------------|--------------------------------------------|-------------------------------------|------------------------------------------------|
| BigQuery query fails    | SQL error or insufficient permissions     | Query syntax, dataset access        | Fix query, adjust IAM                          |
| Pub/Sub message lost    | Subscription misconfigured or consumer down | Subscription config, consumer logs | Reconfigure subscription, restart consumer    |
| BigTable slow reads     | Hotspot or overloaded cluster             | Table splits, cluster size          | Reshard table, scale cluster                   |
| IAM access denied       | Missing roles or policies                 | `gcloud iam` policies, project bindings | Adjust IAM roles, grant permissions      |
| API quota exceeded      | Too many requests                          | Quotas, logs                        | Request quota increase, throttle requests     |
